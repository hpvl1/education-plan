import{a as y,Q as _}from"./QRadio.89106f0b.js";import{a as C,b as V,c as q,Q}from"./QCheckbox.049a6dfd.js";import{c as v,e as I,Q as x}from"./QBtn.483e7fa1.js";import{c as d,h as c,g as w,_ as B,q as O,r as u,s as S,t as U,u as D,U as s,x as m}from"./index.230554ec.js";import{u as P,a as j,Q as z}from"./use-key-composition.24402a4d.js";var A=v({name:"QToggle",props:{...C,icon:String,iconColor:String},emits:V,setup(e){function a(l,r){const n=d(()=>(l.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),i=d(()=>l.value===!0?e.iconColor:null);return()=>[c("div",{class:"q-toggle__track"}),c("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},n.value!==void 0?[c(I,{name:n.value,color:i.value})]:void 0)]}return q("toggle",a)}});const p={radio:y,checkbox:Q,toggle:A},L=Object.keys(p);var N=v({name:"QOptionGroup",props:{...P,modelValue:{required:!0},options:{type:Array,validator:e=>e.every(a=>"value"in a&&"label"in a)},name:String,type:{default:"radio",validator:e=>L.includes(e)},color:String,keepColor:Boolean,dense:Boolean,size:String,leftLabel:Boolean,inline:Boolean,disable:Boolean},emits:["update:modelValue"],setup(e,{emit:a,slots:l}){const{proxy:{$q:r}}=w(),n=Array.isArray(e.modelValue);e.type==="radio"?n===!0&&console.error("q-option-group: model should not be array"):n===!1&&console.error("q-option-group: model should be array in your case");const i=j(e,r),t=d(()=>p[e.type]),g=d(()=>"q-option-group q-gutter-x-sm"+(e.inline===!0?" q-option-group--inline":"")),b=d(()=>{const o={role:"group"};return e.type==="radio"&&(o.role="radiogroup",e.disable===!0&&(o["aria-disabled"]="true")),o});function k(o){a("update:modelValue",o)}return()=>c("div",{class:g.value,...b.value},e.options.map((o,h)=>{const f=l["label-"+h]!==void 0?()=>l["label-"+h](o):l.label!==void 0?()=>l.label(o):void 0;return c("div",[c(t.value,{modelValue:e.modelValue,val:o.value,name:o.name===void 0?e.name:o.name,disable:e.disable||o.disable,label:f===void 0?o.label:null,leftLabel:o.leftLabel===void 0?e.leftLabel:o.leftLabel,color:o.color===void 0?e.color:o.color,checkedIcon:o.checkedIcon,uncheckedIcon:o.uncheckedIcon,dark:o.dark||i.value,size:o.size===void 0?e.size:o.size,dense:e.dense,keepColor:o.keepColor===void 0?e.keepColor:o.keepColor,"onUpdate:modelValue":k},f)])}))}});const R=O({name:"IndexPage",components:{},async setup(){async function e(){const n="http://192.168.5.44/api/competencies/list/";let i={};return await fetch(n).then(t=>t.json()).then(t=>{i=t}),i=JSON.parse(i),i}const a=await e(),l=Object.values(a.result);let r=[];return l.forEach(function(n){r.push({label:n.name,value:n.id})}),{group:u([]),competenciesAsOptions:r,nameField:u(null),nameRef:u(null)}},methods:{async sendData(e){try{const a="http://192.168.5.44/api/eduplan/create/";let l={};const r=await fetch(a,{method:"post",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()).then(n=>{l=n});l=JSON.parse(l)}catch(a){console.log(a)}},submit:function(){if(this.nameRef.validate(),this.nameRef.hasError||this.group.length===0){alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u0438 \u0443\u043A\u0430\u0436\u0438\u0442\u0435 \u043A\u043E\u043C\u043F\u0435\u0442\u0435\u043D\u0446\u0438\u0438!!");return}let e={name:this.nameField,competencies:this.group};this.sendData(e)}}}),$=s("h3",null,"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u0443\u0447\u0435\u0431\u043D\u044B\u0445 \u043F\u043B\u0430\u043D\u043E\u0432",-1),E={class:"row"},F={class:"col on-right"},J=s("span",{class:"text-weight-bold"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0443\u0447\u0435\u0431\u043D\u044B\u0439 \u043F\u043B\u0430\u043D",-1),G={class:"row q-pa-md"},M={class:"row"},T={class:"col-3"},H={class:"q-gutter q-pa-md"},K={class:"column items-end"};function W(e,a,l,r,n,i){return S(),U(z,null,{default:D(()=>[$,s("div",null,[s("div",E,[s("div",F,[J,s("div",G,[m(_,{ref:"nameRef",filled:"",modelValue:e.nameField,"onUpdate:modelValue":a[0]||(a[0]=t=>e.nameField=t),label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",rules:[t=>!!t||"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043F\u043E\u043B\u0435"]},null,8,["modelValue","rules"])])])]),s("div",M,[s("div",T,[s("div",H,[m(N,{modelValue:e.group,"onUpdate:modelValue":a[1]||(a[1]=t=>e.group=t),options:e.competenciesAsOptions,color:"green",type:"checkbox",inline:""},null,8,["modelValue","options"])]),s("div",K,[m(x,{push:"",color:"primary q-ma-md",label:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",onClick:e.submit},null,8,["onClick"])])])])])]),_:1})}var ae=B(R,[["render",W]]);export{ae as default};
